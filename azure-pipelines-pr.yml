# Terraform PR Pipeline

name: Build-$(Build.BuildId)
pr: [dev]

jobs:
- job: dev
  pool:
    vmImage: 'ubuntu-latest'
  steps:
  - task: TerraformInstaller@0
    displayName: 'Install Terraform version $(TF-Version)'
    inputs:
      terraformVersion: '$(TF-Version)'
  - template: templates/terraform.yml
    parameters:
      saName: '$(sa-name)'
      blobName: '$(blob-name)'
      saKey: '$(sa-key)'
      stateKey: '$(key)'
      workspace: '$(Dev-WS)'
      subscriptionId: '$(subscription-id)'
      clientId: '$(client-id)'
      clientSecret: '$(client-secret)'
      tenantId: '$(tenant-id)'
